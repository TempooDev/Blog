/* Global variables */
:root {
	/* Colors */
	--blue-0: #03071e;
	--blue-50: #111827;
	--blue-100: #1f2937;
	--blue-200: #374151;
	--blue-300: #4b5563;
	--blue-400: #6b7280;
	--blue-500: #9ca3af;
	--blue-600: #d1d5db;
	--blue-700: #e5e7eb;
	--blue-800: #f9fafb;
	--blue-900: #ffffff;
	--blue-999-basis: 0, 0%, 100%;
	--blue-999_40: hsla(var(--blue-999-basis), 0.4);
	--blue-999: #ffffff;
	
	--accent-light: #60a5fa;
	--accent-regular: #3b82f6;
	--accent-dark: #1e3a8a;
	--accent-overlay: hsla(220, 80%, 60%, 0.33);
	--accent-subtle-overlay: var(--accent-overlay);
	--accent-text-over: var(--blue-900);

	--link-color: var(--accent-regular);

	/* Gradients */
	--gradient-stop-1: var(--accent-light);
	--gradient-stop-2: var(--accent-regular);
	--gradient-stop-3: var(--accent-dark);
	--gradient-subtle: linear-gradient(150deg, var(--blue-900) 19%, var(--blue-999) 150%);
	--gradient-accent: linear-gradient(
		150deg,
		var(--gradient-stop-1),
		var(--gradient-stop-2),
		var(--gradient-stop-3)
	);
	--gradient-accent-orange: linear-gradient(
		150deg,
		#6b7280,
		var(--accent-regular),
		var(--accent-dark)
	);
	--gradient-stroke: linear-gradient(180deg, var(--blue-900), var(--blue-700));

	/* Shadows */
	--shadow-sm:
		0px 6px 3px rgba(31, 41, 55, 0.01), 0px 4px 2px rgba(31, 41, 55, 0.01),
		0px 2px 2px rgba(31, 41, 55, 0.02), 0px 0px 1px rgba(31, 41, 55, 0.03);
	--shadow-md:
		0px 28px 11px rgba(31, 41, 55, 0.01), 0px 16px 10px rgba(31, 41, 55, 0.03),
		0px 7px 7px rgba(31, 41, 55, 0.05), 0px 2px 4px rgba(31, 41, 55, 0.06);
	--shadow-lg:
		0px 62px 25px rgba(31, 41, 55, 0.01), 0px 35px 21px rgba(31, 41, 55, 0.05),
		0px 16px 16px rgba(31, 41, 55, 0.1), 0px 4px 9px rgba(31, 41, 55, 0.12);

	/* Text Sizes */
	--text-sm: 0.875rem;
	--text-base: 1rem;
	--text-md: 1.125rem;
	--text-lg: 1.25rem;
	--text-xl: 1.625rem;
	--text-2xl: 2.125rem;
	--text-3xl: 2.625rem;
	--text-4xl: 3.5rem;
	--text-5xl: 4.5rem;

	/* Fonts */
	--font-system:
		system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
		'Open Sans', 'Helvetica Neue', sans-serif;
	--font-body: 'Public Sans', var(--font-system);
	--font-brand: Rubik, var(--font-system);

	/* Transitions */
	--theme-transition: 0.2s ease-in-out;
}

:root.theme-dark {
	--blue-0: #ffffff;
	--blue-50: #f9fafb;
	--blue-100: #e5e7eb;
	--blue-200: #d1d5db;
	--blue-300: #9ca3af;
	--blue-400: #6b7280;
	--blue-500: #4b5563;
	--blue-600: #374151;
	--blue-700: #1f2937;
	--blue-800: #111827;
	--blue-900: #03071e;
	--blue-999-basis: 225, 31%, 5%;
	--blue-999: #03071e;

	--accent-light: #1e3a8a;
	--accent-regular: #3b82f6;
	--accent-dark: #60a5fa;
	--accent-overlay: hsla(220, 80%, 60%, 0.33);
	--accent-subtle-overlay: hsla(220, 80%, 60%, 0.33);
	--accent-text-over: var(--blue-0);

	--link-color: var(--accent-dark);

	--gradient-stop-1: #1e3a8a;
	--gradient-subtle: linear-gradient(150deg, var(--blue-900) 19%, var(--blue-999) 81%);
	--gradient-accent-orange: linear-gradient(
		150deg,
		#6b7280,
		var(--accent-regular),
		var(--accent-light)
	);
	--gradient-stroke: linear-gradient(180deg, var(--blue-600), var(--blue-800));

	--shadow-sm:
		0px 6px 3px rgba(255, 255, 255, 0.01), 0px 4px 2px rgba(255, 255, 255, 0.01),
		0px 2px 2px rgba(255, 255, 255, 0.02), 0px 0px 1px rgba(255, 255, 255, 0.03);
	--shadow-md:
		0px 28px 11px rgba(255, 255, 255, 0.01), 0px 16px 10px rgba(255, 255, 255, 0.03),
		0px 7px 7px rgba(255, 255, 255, 0.05), 0px 2px 4px rgba(255, 255, 255, 0.06);
	--shadow-lg:
		0px 62px 25px rgba(255, 255, 255, 0.01), 0px 35px 21px rgba(255, 255, 255, 0.05),
		0px 16px 16px rgba(255, 255, 255, 0.1), 0px 4px 9px rgba(255, 255, 255, 0.12);
}

html,
body {
	min-height: 100%;
	/* Prevent the whole page from scrolling horizontally; internal scrollable
	   elements (code blocks) will handle their own overflow via overflow-x:auto */
	overflow-x: hidden;
}

body {
	background-color: var(--blue-999);
	color: var(--blue-200);
	font-family: var(--font-body);
	-webkit-font-smoothing: antialiased;
	line-height: 1.5;
}

*,
*::after,
*::before {
	box-sizing: border-box;
	margin: 0;
}

img {
	max-width: 100%;
	height: auto;
}

a {
	color: var(--link-color);
}

h1,
h2,
h3,
h4,
h5 {
	line-height: 1.1;
	font-family: var(--font-brand);
	font-weight: 600;
	color: var(--blue-100);
}

h1 {
	font-size: var(--text-5xl);
}

h2 {
	font-size: var(--text-4xl);
}

h3 {
	font-size: var(--text-3xl);
}

h4 {
	font-size: var(--text-2xl);
}

h5 {
	font-size: var(--text-xl);
}

/* Utilities */

.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

.wrapper {
	width: 100%;
	max-width: 83rem;
	margin-inline: auto;
	padding-inline: 1.5rem;
}

.stack {
	display: flex;
	flex-direction: column;
}

.gap-2 {
	gap: 0.5rem;
}
.gap-4 {
	gap: 1rem;
}
.gap-8 {
	gap: 2rem;
}
.gap-10 {
	gap: 2.5rem;
}
.gap-15 {
	gap: 3.75rem;
}
.gap-20 {
	gap: 5rem;
}
.gap-30 {
	gap: 7.5rem;
}
.gap-48 {
	gap: 12rem;
}

@media (min-width: 50em) {
	.lg\:gap-2 {
		gap: 0.5rem;
	}
	.lg\:gap-4 {
		gap: 1rem;
	}
	.lg\:gap-8 {
		gap: 2rem;
	}
	.lg\:gap-10 {
		gap: 2.5rem;
	}
	.lg\:gap-15 {
		gap: 3.75rem;
	}
	.lg\:gap-20 {
		gap: 5rem;
	}
	.lg\:gap-30 {
		gap: 7.5rem;
	}
	.lg\:gap-48 {
		gap: 12rem;
	}
}

/* Improve code block and inline code handling so they don't overflow on mobile
   - pre: allow wrapping or scrolling, max-width 100% and touch-friendly scrolling
   - code: allow wrapping for very long tokens and use monospace font */
.content :global(pre) {
	overflow-x: auto; /* internal horizontal scroll for long lines */
	overflow-y: hidden;
	max-width: 100%;
	box-sizing: border-box; /* ensure padding doesn't expand width */
	padding: 1rem;
	border-radius: 0.75rem;
	background: rgba(0,0,0,0.04);
	white-space: pre; /* keep original formatting, allow horizontal scroll */
	-webkit-overflow-scrolling: touch;
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", "Helvetica Neue", monospace;
	font-size: 0.95rem;
}

.content :global(pre) :global(code) {
	white-space: pre; /* inline code inside pre should not wrap */
}

.content :global(code) {
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", "Helvetica Neue", monospace;
	font-size: 0.92rem;
	word-break: break-word;
	white-space: pre-wrap; /* inline code can wrap */
	background: rgba(0,0,0,0.02);
	padding: 0.12rem 0.28rem;
	border-radius: 4px;
}

@media (max-width: 50em) {
	/* Reduce heading sizes and improve layout on mobile */
	h1 {
		font-size: clamp(1.75rem, 6vw, 2.5rem);
		line-height: 1.05;
	}
	h2 {
		font-size: clamp(1.5rem, 5.5vw, 2rem);
	}
	h3 {
		font-size: clamp(1.25rem, 4.5vw, 1.5rem);
	}

	.content :global(pre) {
		padding: 0.75rem;
		font-size: 0.9rem;
	}
	.content :global(code) {
		font-size: 0.88rem;
	}

	/* Ensure content wrapper doesn't cause horizontal overflow */
	.content {
		max-width: 100%;
		padding-inline: 0.5rem;
	}
}

/* Defensive rules to stop any descendant from expanding past the viewport
   (fixes clipped h2 and paragraphs caused by wide inline elements). We keep
   pre/code behavior intact but ensure text elements can wrap safely.) */
.content {
	box-sizing: border-box;
}

.content :global(*) {
	max-width: 100%;
	box-sizing: border-box;
}

/* Allow code blocks to keep internal scroll but not force parent's width */
.content :global(pre),
.content :global(code),
.content :global(img),
.content :global(table) {
	max-width: 100% !important;
	width: auto !important;
}

/* Ensure headings and paragraphs wrap instead of producing overflow */
.content :global(h2),
.content :global(h3),
.content :global(p) {
	overflow-wrap: anywhere;
	word-break: break-word;
}

@media (max-width: 50em) {
	.content :global(h2) {
		font-size: 1.05rem !important;
		line-height: 1.18 !important;
	}
	.content :global(p) {
		font-size: 0.96rem !important;
	}
}

/* Neutralize common Bootstrap grid/layout classes when they appear inside
   content MDX (some posts include raw Bootstrap HTML). These classes use
   negative margins and fixed column widths that can create horizontal overflow
   on small viewports â€” reset them safely inside .content only. */
.content :global(.container-fluid),
.content :global(.container),
.content :global(.row) {
	width: 100% !important;
	max-width: 100% !important;
	margin-left: 0 !important;
	margin-right: 0 !important;
	padding-left: 0 !important;
	padding-right: 0 !important;
	box-sizing: border-box !important;
}

.content :global([class*="col-"]) {
	float: none !important;
	width: auto !important;
	min-width: 0 !important;
	padding-left: 0.5rem !important;
	padding-right: 0.5rem !important;
	box-sizing: border-box !important;
}

/* Defensive: ensure cards, expressive code wrappers and tables don't force
   widths beyond the container */
.content :global(.card),
.content :global(.expressive-code),
.content :global(table) {
	max-width: 100% !important;
	width: auto !important;
	box-sizing: border-box !important;
	overflow-x: auto !important;
}

/* Strong mobile overrides for headings and hero titles to ensure
   they don't render excessively large on small screens. These rules
   are placed at the end to increase specificity and take precedence.
*/
@media (max-width: 50em) {
	/* Generic headings */
	h1 {
		font-size: 1.6rem !important;
		line-height: 1.06 !important;
		margin-top: 0.25rem;
		margin-bottom: 0.65rem;
	}
	h2 {
		font-size: 1.2rem !important;
		line-height: 1.12 !important;
		margin-top: 0.75rem;
		margin-bottom: 0.5rem;
	}

	/* Hero-specific title override */
	.hero .title,
	.title {
		font-size: clamp(1.25rem, 6vw, 1.9rem) !important;
		line-height: 1.08 !important;
		max-width: 100% !important;
		margin-inline: 0 !important;
		/* avoid forcing a fixed width that, together with padding, can produce
		   clipped text when the page has overflow hidden; let the element size
		   naturally and use safe wrapping */
		padding-inline: 0.5rem;
		display: block;
		width: auto !important;
		overflow-wrap: anywhere !important; /* break long words when needed */
		word-break: break-word !important;
	}

	/* Ensure the hero block uses full width padding so text doesn't get squeezed */
	.hero {
		padding-inline: 0.5rem;
	}
}
