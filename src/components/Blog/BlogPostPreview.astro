---
import type { CollectionEntry } from "astro:content";
import CardPreview from "@components/Common/CardPreview.astro";

interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;

const parts = post.id.split("/");
const postLang = parts[0];
const slug = parts.slice(1).join("/");
---

<CardPreview
  title={post.data.title}
  description={post.data.description}
  href={`/${postLang}/blog/${slug}/`}
  imgSrc={post.data.img}
  imgAlt={post.data.img_alt || post.data.title}
  tags={post.data.tags}
  publishDate={post.data.publishDate.toISOString().split("T")[0]}
/>
